<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <style>
      body {
        font-family: sans-serif;
      }
      
      .country {
        stroke-width: 1px;
      }
      
      .country:hover {
        opacity: 1 !important;
        stroke: black !important;
        stroke-width: 1px !important;
      }
      
      div.tooltip {
        position: absolute;
        text-align: center;
        //width: 60px;
        //height: 28px;
        padding: 2px;
        font: 12px sans-serif;
        background: lightsteelblue;
        border: 0px;
        border-radius: 8px;
        pointer-events: none;
      }
    </style>
    <link rel="stylesheet" type="text/css" href="public/style.css">
  </head>
  <body class="text-responsive">
    <div class="container">
      <header class="d-flex flex-wrap justify-content-center py-3 mb-4 navbar navbar-light bg-light"><a class="d-flex align-items-center mb-3 mb-md-0 me-md-auto text-decoration-none ms-3" href="/"><span class="fs-4 navbar-brand">The Great Carbon Arbitrage</span></a>
        <!-- This is GDPR-compliant-->
        <!-- script(async defer src="https://beampipe.io/js/tracker.js" data-beampipe-domain="greatcarbonarbitrage.com")-->
        <!-- The following has unlimited events-->
        <script data-host="https://microanalytics.io" data-dnt="false" src="https://microanalytics.io/js/script.js" id="ZwSg9rf6GA" async defer></script>
        <ul class="nav nav-text">
          <li class="nav-item"><a class="nav-link active" href="index.html">Carbon Arbitrage</a></li>
          <li class="nav-item">
            <div class="dropdown"><a class="nav-link active dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false" id="ClimateFinancingDropdown">Climate Financing</a>
              <ul class="dropdown-menu" aria-labelledby="ClimateFinancingDropdown">
                <li><a class="dropdown-item" href="climate_financing_map.html">Country</a></li>
                <li><a class="dropdown-item" href="climate_financing.html">Regional</a></li>
                <li><a class="dropdown-item" href="climate_financing_yearly.html">Annual</a></li>
                <li><a class="dropdown-item" href="opportunity_costs.html">Opportunity costs</a></li>
              </ul>
            </div>
          </li>
          <li class="nav-item">
            <div class="dropdown"><a class="nav-link active dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false" id="paperDropdown">Paper</a>
              <ul class="dropdown-menu" aria-labelledby="paperDropdown">
                <li><a class="dropdown-item" href="https://cepr.org/publications/dp17654">CEPR</a></li>
                <li><a class="dropdown-item" href="https://www.imf.org/en/Publications/WP/Issues/2022/05/31/The-Great-Carbon-Arbitrage-518464">IMF</a></li>
              </ul>
            </div>
          </li>
          <li class="nav-item"><a class="nav-link active" href="https://github.com/ox-inet-resilience/carbon_arbitrage_code">Code</a></li>
          <li class="nav-item"><a class="nav-link active" href="blogs.html">Blogs</a></li>
          <li class="nav-item"><a class="nav-link active" href="media.html">Media</a></li>
          <li class="nav-item"><a class="nav-link active" href="talks.html">Talks</a></li>
          <li class="nav-item"></li>
        </ul>
      </header>
    </div>
    <div style="width: 80%; margin:0 auto;">
      World map showing the present value of compensation workers for
      lost wages and retraining costs.
    </div>
    <!-- Output-->
    <svg class="d-flex" id="legend" style="height: 60px; margin:0px auto;"></svg>
    <svg class="d-flex" id="map" style="margin:0px auto;"></svg>
    <div class="d-flex flex-wrap justify-content-center" style="margin:0 auto">
      <div class="flex-column">
                <label class="form-label" for="discount-rate">Discount rate œÅ<span class="text-success" data-bs-toggle="tooltip" data-bs-placement="top" title="The discount rate is used to obtain the present value of costs of phasing out coal over 2024 to the horizon. WACC stands for the weighted average costs of capital.">
                            <!-- The vertical-align: -0.125em is necessary. See https://github.com/twbs/icons/issues/82-->
                            <svg class="bi bi-info-circle" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16" style="vertical-align: -0.125em">
                              <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"></path>
                              <path d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"></path>
                            </svg></span>
                </label>
                <select class="form-select w-80 mb-2" id="discount-rate" onchange="calculate()">
                  <option>0%</option>
                  <option selected>2.8% (WACC)</option>
                  <option>3.6% (WACC, average risk-premium 100 years)</option>
                  <option>5%</option>
                  <option>8%</option>
                </select>
                <label class="form-label" for="opportunity-costs-type">Type of opportunity costs
                </label>
                <select class="form-select w-80 mb-2" id="opportunity-costs-type" onchange="calculate()">
                  <option selected>Compensation missed cash flows of coal companies</option>
                  <option>Compensation lost wages of coal workers</option>
                  <option>Compensation retraining costs</option>
                  <option>All of the above</option>
                </select>
      </div>
    </div>
    <!-- Data-->
    <div class="px-3 mb-3">
          <details>
            <summary>Result data in JSON format (click here to view online, or <a id="download-result-data">download</a>)<span class="text-success" data-bs-toggle="tooltip" data-bs-placement="top" title="The country codes are according to ISO-3166">
                        <!-- The vertical-align: -0.125em is necessary. See https://github.com/twbs/icons/issues/82-->
                        <svg class="bi bi-info-circle" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16" style="vertical-align: -0.125em">
                          <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"></path>
                          <path d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"></path>
                        </svg></span>
            </summary><code id="result-data"></code>
          </details>
    </div>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="https://d3js.org/topojson.v3.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
    <!-- Needed to enable Bootstrap tooltips-->
    <script src="js/enable_tooltips.js"></script>
    <script type="module">
      import {calculate} from "./js/opportunity_costs_map.js"
      window.calculate = calculate
    </script>
  </body>
</html>